process TestPhotonValidator = 
{

  untracked PSet maxEvents = {untracked int32 input = 20}


 source = PoolSource {
    untracked vstring fileNames = {
	    '/store/relvall/2008/5/4/RelVal-RelValSingleElectronPt35-1209247429-IDEAL_V1-3rd/0000/26E62180-121A-DD11-BC6D-001617DBCF1E.root',
	    '/store/relvall/2008/5/4/RelVal-RelValSingleElectronPt35-1209247429-IDEAL_V1-3rd/0000/50C41C42-C51A-DD11-B538-000423DD2F34.root'
    }
}

include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"


#  include "DQMServices/Components/data/MessageLogger.cfi"
#  service = LoadAllDictionaries {}
  
  include "DQMOffline/EGamma/data/electronAnalyzer.cfi"
  include "DQMServices/Components/data/MEtoEDMConverter.cfi"
  service = DQMStore {}	
#  include "DQMServices/Components/test/dqm_onlineEnv.cfi"	
#  replace dqmSaver.saveAtJobEnd = true

   module mergedSuperClusters = SuperClusterMerger {
#       VInputTag src = { correctedHybridSuperClusters,multi5x5SuperClustersWithPreshower }  # for 21x
       VInputTag src = {correctedHybridSuperClusters,correctedEndcapSuperClustersWithPreshower} # for 20x
   }

  module FEVT = PoolOutputModule 
  { 
    untracked string fileName = "MEtoEDMConverter.root"
    untracked vstring outputCommands =
    {
   
      "keep *_MEtoEDMConverter_*_*"
     }
  }


#  path p1 = {mergedSuperClusters,gsfElectronAnalysis}	
  path p1 = {mergedSuperClusters,gsfElectronAnalysis,MEtoEDMConverter}

  endpath outpath = {FEVT}

  schedule = {p1,outpath}
}
