process TestPhotonValidator = 
{

  untracked PSet maxEvents = {untracked int32 input = 20}


 source = PoolSource {
    untracked vstring fileNames = {
	    '/store/relval/2008/6/2/RelVal-RelValSingleElectronPt35-1212355159-IDEAL_V1-2nd/0000/02FE32F3-A630-DD11-868D-001617E30F4C.root',
	    '/store/relval/2008/6/2/RelVal-RelValSingleElectronPt35-1212355159-IDEAL_V1-2nd/0000/9CD77E8E-A630-DD11-9C8B-000423D98DD4.root',
	    '/store/relval/2008/6/2/RelVal-RelValSingleElectronPt35-1212355159-IDEAL_V1-2nd/0000/D071B9F8-A630-DD11-A840-000423D6CA6E.root'
    }
}

include "RecoEcal/EgammaClusterProducers/data/geometryForClustering.cff"


#  include "DQMServices/Components/data/MessageLogger.cfi"
#  service = LoadAllDictionaries {}
  
  include "DQMOffline/EGamma/data/electronAnalyzer.cfi"
  include "DQMServices/Components/data/MEtoEDMConverter.cfi"
  service = DQMStore {}	
#  include "DQMServices/Components/test/dqm_onlineEnv.cfi"	
#  replace dqmSaver.saveAtJobEnd = true

   module mergedSuperClusters = SuperClusterMerger {
       VInputTag src = { correctedHybridSuperClusters,correctedMulti5x5SuperClustersWithPreshower }  # for 21x
#       VInputTag src = {correctedHybridSuperClusters,correctedEndcapSuperClustersWithPreshower} # for 20x
   }

  module FEVT = PoolOutputModule 
  { 
    untracked string fileName = "MEtoEDMConverter.root"
    untracked vstring outputCommands =
    {
   
      "keep *_MEtoEDMConverter_*_*"
     }
  }


#  path p1 = {mergedSuperClusters,gsfElectronAnalysis}	
  path p1 = {mergedSuperClusters,gsfElectronAnalysis,MEtoEDMConverter}

  endpath outpath = {FEVT}

  schedule = {p1,outpath}
}
